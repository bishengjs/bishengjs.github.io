/*
Copyright 2013, KISSY v1.41
MIT Licensed
build time: Dec 4 22:18
*/
KISSY.add("swf/ua",[],function(g){function h(b){var e="string"===typeof b?b.match(/\d+/g).splice(0,3):b;g.isArray(e)&&(b=parseFloat(e[0]+"."+o(e[1],3)+o(e[2],5)));return b||0}function o(b,e){var b=(b||0)+"",g=e+1-b.length;return Array(0<g?g:0).join("0")+b}function l(g){if(g||j){j=!1;var e;if(navigator.plugins&&navigator.mimeTypes.length)e=(navigator.plugins["Shockwave Flash"]||0).description;else if(b.ActiveXObject)try{e=(new b.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(l){}p=
!e?void 0:e.match(/\d+/g).splice(0,3)}return p}var p,j=!0,b=g.Env.host;return{fpv:l,fpvGTE:function(b,g){return h(l(g))>=h(b)}}});
KISSY.add("swf",["dom","json","attribute","swf/ua"],function(g,h){function o(a){var i=c;g.each(a,function(a,b){b=b.toLowerCase();b in A?i+=j(b,a):b===B&&(i+=j(b,p(a)))});return i}function l(a,b,d,m){var f=c,e=c;g.each(b,function(a,b){f+=q+b+r+k+a+k});m?(f+=q+"classid"+r+k+C+k,e+=j("movie",a)):(f+=q+"data"+r+k+a+k,f+=q+"type"+r+k+D+k);e+=o(d);return s+t+f+u+e}function p(a){var b=[];g.each(a,function(a,m){"string"!==typeof a&&(a=z.stringify(a));a&&b.push(m+"="+E(a))});return b.join("&")}function j(a,
b){return'<param name="'+a+'" value="'+b+'"></param>'}var b=h("dom"),z=h("json"),e=h("attribute"),w=h("swf/ua"),n=!!g.Env.host.ActiveXObject,D="application/x-shockwave-flash",C="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",B="flashvars",c="",q=" ",r="=",k='"',s="<",u=">",F=g.Env.host.document,x=w.fpv,G=w.fpvGEQ,y=w.fpvGTE,t="object",E=encodeURIComponent,A={wmode:c,allowscriptaccess:c,allownetworking:c,allowfullscreen:c,play:"false",loop:c,menu:c,quality:c,scale:c,salign:c,bgcolor:c,devicefont:c,hasPriority:c,
base:c,swliveconnect:c,seamlesstabbing:c},v;return v=e.extend({constructor:function(){this.callSuper.apply(this,arguments);var a=this.get("expressInstall"),i,d,m=this.get("htmlMode");d=this.get("params");var f=this.get("attrs"),e=this.get("document"),c=b.create("<span>",void 0,e),k=this.get("elBefore"),h=this.get("src"),j=this.get("version");i=f.id=f.id||g.guid("ks-swf-");if(x()){if(j&&!y(j)&&(this.set("status",v.Status.TOO_LOW),a)){h=a;if(!("width"in f)||!/%$/.test(f.width)&&310>parseInt(f.width,
10))f.width="310";if(!("height"in f)||!/%$/.test(f.height)&&137>parseInt(f.height,10))f.height="137";a=d.flashVars=d.flashVars||{};g.mix(a,{MMredirectURL:location.href,MMplayerType:n?"ActiveX":"PlugIn",MMdoctitle:e.title.slice(0,47)+" - Flash Player Installation"})}"full"===m?(n?(a=l(h,f,d,1),delete f.id,delete f.style,j=l(h,f,d,0)):(j=l(h,f,d,0),delete f.id,delete f.style,a=l(h,f,d,1)),d=a+j+s+"/"+t+u+s+"/"+t+u):d=l(h,f,d,n)+s+"/"+t+u;this.set("html",d);k?b.insertBefore(c,k):b.append(c,this.get("render"));
"outerHTML"in c?c.outerHTML=d:c.parentNode.replaceChild(b.create(d),c);i=b.get("#"+i,e);this.set("swfObject",i);"full"===m&&(n?this.set("swfObject",i):this.set("swfObject",i.parentNode));this.set("el",i);this.get("status")||this.set("status",v.Status.SUCCESS)}else this.set("status",v.Status.NOT_INSTALLED)},callSWF:function(a,b){var d=this.get("el"),c,b=b||[];try{d[a]&&(c=d[a].apply(d,b))}catch(f){c="",0!==b.length&&(c='"'+b.join('", "')+'"'),c=(new Function("swf","return swf."+a+"("+c+");"))(d)}return c},
destroy:function(){this.detach();var a=this.get("swfObject");n?(a.style.display="none",function d(){if(4===a.readyState){for(var b in a)"function"===typeof a[b]&&(a[b]=null);a.parentNode.removeChild(a)}else setTimeout(d,10)}()):a.parentNode.removeChild(a)}},{ATTRS:{expressInstall:{value:g.config("base")+"swf/assets/expressInstall.swf"},src:{},version:{value:"9"},params:{value:{}},attrs:{value:{}},render:{setter:function(a){"string"===typeof a&&(a=b.get(a,this.get("document")));return a},valueFn:function(){return document.body}},
elBefore:{setter:function(a){"string"===typeof a&&(a=b.get(a,this.get("document")));return a}},document:{value:F},status:{},el:{},swfObject:{},html:{},htmlMode:{value:"default"}},getSrc:function(a){var c=a=b.get(a),d="",e,a=[],d=b.nodeName(c);if("object"===d){(d=b.attr(c,"data"))&&a.push(c);c=c.childNodes;for(d=0;d<c.length;d++)e=c[d],1===e.nodeType&&("movie"===(b.attr(e,"name")||"").toLowerCase()?a.push(e):"embed"===b.nodeName(e)?a.push(e):"object"===b.nodeName(c[d])&&a.push(e))}else"embed"===d&&
a.push(c);c=(a=a[0])&&b.nodeName(a);return"embed"===c?b.attr(a,"src"):"object"===c?b.attr(a,"data"):"param"===c?b.attr(a,"value"):null},Status:{TOO_LOW:"flash version is too low",NOT_INSTALLED:"flash is not installed",SUCCESS:"success"},HtmlMode:{DEFAULT:"default",FULL:"full"},fpv:x,fpvGEQ:G,fpvGTE:y})});
